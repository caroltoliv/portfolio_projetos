<!DOCTYPE HTML>
<!--
	Phantom by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Projeto Insurance All</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="inner">

							<!-- Logo -->
								<!--  <a href="index.html" class="logo">
									<span class="symbol"><img src="images/logo.svg" alt="" /></span><span class="title"> Previsão de Vendas</span>
								-->
								</a>

							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">Menu</a></li>
									</ul>
								</nav>

						</div>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<h2>Menu</h2>
						<ul>
							<li><a href="index.html">Home</a></li>
							<!-- <li><a href="generic.html">Ipsum veroeros</a></li>
							<li><a href="generic.html">Tempus etiam</a></li>
							<li><a href="generic.html">Consequat dolor</a></li>
							<li><a href="elements.html">Elements</a></li>
						</ul> -->
					</nav>

				<!-- Main -->
					<div id="main">
						<div class="inner">
							<h1> Rankeamento de Interessados em Seguro Automotivo</h1>
							<!--<span class="image main"><img src="images/pic13.jpg" alt="" /></span>-->
							<h2>1. Problema de Negócios</h2>
							<p>A Insurance All dedica-se a oferecer seguros de saúde de qualidade aos seus clientes. Como parte de seus esforços para ampliar sua gama de serviços, a empresa também almeja disponibilizar seguros automotivos. No entanto, a empresa enfrenta limitações financeiras que dificultam a aquisição de novos clientes, levando-a a implementar a estratégia de venda cruzada, na qual oferece o segundo seguro aos clientes já segurados. Além disso, devido à sua capacidade limitada, por causa do tamanho moderado da equipe de vendas, torna-se desafiador contatar todos os clientes.</p>
							<p>Nesse contexto, a empresa realizou uma pesquisa junto aos seus clientes para avaliar a possibilidade de aquisição de um novo seguro. Com o feedback de mais de 380 mil clientes, os dados solicitadas do formulário foram devidamente organizadas no Google Sheets, e podem ser facilmente acessados por lá.</p>
							<p>Agora, o desafio consiste em identificar os potenciais clientes que receberão a oferta do seguro automotivo e efetuar o plano de vendas no decorrer de dois meses, mantendo-se dentro da restrição orçamentária estabelecida. </p>
							
							<h3>1.1. Sobre os dados</h3>
							<p> Os dados do projeto foram obtidos através do <a href="https://www.kaggle.com/datasets/anmolkumar/health-insurance-cross-sell-prediction">Kaggle</a>:  Health Insurance Cross Sell Prediction. O conjunto de dados inclui as seguintes informações:</p>

							<table>
								<tr>
								  <th>Variável</th>
								  <th>Definição</th>
								</tr>
								<tr>
								  <td>id</td>
								  <td>ID exclusivo do cliente</td>
								</tr>
								<tr>
								  <td>gender</td>
								  <td>Gênero do cliente</td>
								</tr>
								<tr>
								  <td>age</td>
								  <td>Idade do cliente</td>
								</tr>
								<tr>
								  <td>driving_license</td>
								  <td>0 : O cliente não tem Carteira de Habilitação, 1 : O cliente possui Carteira de Habilitação</td>
								</tr>
								<tr>
								  <td>region_code</td>
								  <td>Código exclusivo para a região do cliente</td>
								</tr>
								<tr>
								  <td>previously_insured</td>
								  <td>1 : Cliente já possui seguro automóvel, 0 : Cliente não possui seguro automóvel</td>
								</tr>
								<tr>
								  <td>vehicle_age</td>
								  <td>Idade do Veículo</td>
								</tr>
								<tr>
								  <td>vehicle_damage</td>
								  <td>1 : O veículo do cliente sofreu danos anteriormente, 0 : O veículo do cliente não sofreu danos anteriormente</td>
								</tr>
								<tr>
								  <td>annual_premium</td>
								  <td>O valor que o cliente paga como prêmio no ano, quanto ao seguro saúde</td>
								</tr>
								<tr>
								  <td>policy_sales_channel</td>
								  <td>Código anonimizado para o canal de divulgação ao cliente (por correio, por telefone, pessoalmente, etc.)</td>
								</tr>
								<tr>
								  <td>days_associated</td>
								  <td>Número de dias desde que o cliente se tornou associado à empresa por meio da aquisição do seguro de saúde</td>
								</tr>
								<tr>
								  <td>response</td>
								  <td>1 : O cliente está interessado, 0 : O cliente não está interessado</td>
								</tr>
							  </table>
								
							<h2>2. Premissas de Negócios </h2>

							<ul>
								<li>A empresa entrará em contato com seus clientes por meio de ligações telefônicas;</li>
								<li>A empresa possui recursos limitados e ligações telefônicas limitadas;</li>
								<li>A equipe de vendas já utiliza o Google Sheets como uma ferramenta corporativa e a pontuação da propensão para adquirir seguro automotivo deve ser integrada a essa plataforma;</li>
							</ul>
							
							<p>Os cenários de faturamento serão calculados, levando em conta as premissas abaixo:</p>
							<ul>
								<li>Todos os clientes interessados irão adquirir o seguro automóvel;</li>
								<li>O custo médio de abordar um contato na lista para fins de prospecção, incluindo o tempo do funcionário e os gastos com comunicação, é de 1250 rúpias indianas;</li>
								<li>O ticket médio para um seguro saúde anual da Insurance All é: ₹30564.39. O ticket médio do seguro automóvel anual corresponde a 40% do ticket médio do seguro saúde, ou seja, 12225.76 rúpias indianas.</li>
							</ul>							

							<h2>3. Planejamento da Solução</h2>

							<h3>3.1. Produto Final</h3>

							<ul>
								<li>
								Utilizar a plataforma Render para hospedar o modelo de Machine Learning, o qual será acessado por meio de uma API para responder às requisições;
								</li>
							</ul>
							<ul>
								<li>
								Integrar a solução de forma que se conecte ao Google Sheets;
								</li>
							</ul>
							<ul>
								<li>
								Por meio de um botão na barra de ferramentas, atribuir uma pontuação para os clientes existentes (ou qualquer novo cliente adicionado à planilha) com base em sua probabilidade de adquirir o seguro automóvel;
								</li>
							</ul>
							<ul>
								<li>
									Fornecer um relatório que inclui análises e respostas para as seguintes questões: 
									<ul>
										<li>Qual a porcentagem de clientes interessados em seguro automóvel que a equipe de vendas conseguirá atingir com 20 mil ligações?</li>
										<li>Se a capacidade da equipe de vendas for ampliada para 40 mil ligações, qual a porcentagem dos clientes interessados em adquirir um seguro automotivo a equipe será capaz de contatar?</li>
										<li>Quantas ligações a equipe de vendas precisará realizar para alcançar 80% dos clientes interessados em adquirir um seguro automóvel?</li>
										</ul>
								</li>
							</ul>

							<h3>3.2. Processo</h3>
							<p>A abordagem escolhida para resolver o desafio se fundamenta na metodologia CRISP-DM:</p>


							<h4>3.2.1 Compreensão do Negócio (Business Understanding):</h4>
							<p>O principal propósito do projeto é tornar mais eficiente e econômico o processo de oferta de seguros automotivos pela Insurance All, reduzindo tanto o tempo quanto os custos envolvidos, além de impulsionar o aumento da receita.</p>
							
							<h4>3.2.2 Compreensão dos Dados (Data Understanding):</h4>
							<ul>
								<li>Coletar dados no Kaggle;</li>
								<li>Dividir os dados em conjuntos de treinamento, validação e teste;</li>
								<li>Avaliar a qualidade dos dados, compreender o significado de cada atributo, renomeá-los, identificar eventuais problemas e proceder com a limpeza dos dados, se necessário;</li>
								<li>Elaborar um mapa de hipóteses;</li>
								<li>Efetuar engenharia de atributos (feature engineering), criando os atributos necessários para validar as hipóteses;</li>
								<li>Explorar os dados para uma compreensão mais profunda dos atributos que influenciam a variável resposta;</li>
								<li>Gerar insights de negócio;</li>
							</ul>
							
							
							<h4>3.2.3 Preparação dos Dados (Data Preparation):</h4>
							<ul>
								<li>Preparar os dados para a etapa posterior, realizando técnicas como a normalização, reescalonamento e transformação dos dados;</li>
								<li>Selecionar atributos relevantes para os modelos de machine learning, através da sugestão de algoritmos que listam os melhores atributos. Foi utilizado o Extra Trees, Boruta e LightGBM;</li>
							</ul>
							

							<h4>3.2.4 Modelagem (Modeling):</h4>
							<ul>
								<li>Definir os algoritmos a serem aplicados. Os escolhidos foram: KNN, LogisticRegression, XGBoost, Extra Trees e LightGBM;</li>
								<li>Treinar os modelos usando os dados de treinamento e validação, além do método de validação cruzada;</li>
								<li>Avaliar o desempenho dos modelos, através da plotagem da curva de ganho limitativo e lift;</li>
								<li>Avaliar o desempenho dos modelos através das métricas precision at K, recall at K e roc auc score, organizando os valores numa tabela;</li>
								<li>Ajustar os parâmetros por meio do GridSearchCV e Optuna e determinar qual deles resultou em um desempenho superior para o modelo;</li>
							</ul>
							
							
							<h4>3.2.5 Avaliação (Evaluation):</h4>
							<ul>
								<li>Responder as questões de negócios;</li>
								<li>Comparar os resultados entre a lista aleatória e a lista ordenada por probabilidade de compra;</li>
								<li>Traduzir o desempenho do modelo em termos financeiros para a Insurance All;</li>
							</ul>
							


							<h4>3.2.6 Implantação (Deployment):</h4>
							<ul>
								<li>Criar as classes para publicação em produção e testá-las localmente;</li>
								<li>Implementar o modelo no Render;</li>
								<li>Utilizar o App Script para integrar o algoritmo de pontuação à planilha do Google Sheets e criar um botão para acessar a solução;</li>
							</ul>
							

							
						<h2>4. Modelos de Machine Learning e Performance</h2>
						
						<p>Ao longo do desenvolvimento de projetos, empregamos métricas para avaliar a eficácia do modelo e alcançar a solução desejada. Para este propósito específico, foram selecionadas duas ferramentas visuais: a Curva de Ganho Acumulativo (Cumulative Gains Curve) e a Curva de Elevação (Lift Curve), juntamente com as métricas de precision at k, recall at k e roc auc score.</p>

						<p>Através da <b>Cumulative Gains Curve</b>, é possível observar que o modelo contribui para a redução de custos (evitando alcançar todos os clientes da empresa) e, ao mesmo tempo, busca não incomodar os clientes que não têm interesse em adquirir o seguro. A curva é alcançada a partir das seguintes etapas:</p>
						<ul>
							<li>A probabilidade da resposta "sim" (igual a 1), é prevista pelo modelo. Essas observações são organizadas em ordem descrescente, com o objetivo de priorizar as pessoas mais propensas a adquirir o seguro no topo da lista;</li>
							<li>O conjunto de dados é dividido em decis, ou seja, em 10 grupos. O número de observações positivas (resposta = 1) é calculado em cada decil e o número cumulativo de positivos até o decil atual;</li>
							<li>O ganho é calculado como a razão entre o número cumulativo de observações positivas até o decil atual e o número total de observações positivas no conjunto de dados. O gráfico da Curva de Ganho Acumulado é plotado com o ganho no eixo vertical e o decil no eixo horizontal.</li>
						  </ul>						
						
						<p>Com a <b>Lift Curve</b>, que é basicamente derivada do gráfico de ganhos, é fornecida uma maneira  fácil de visualizar quantas vezes a lista ordenada do modelo supera a lista aleatória. </p>

						<ul>
							<li>Sendo o eixo horizontal (x), a porcentagem da amostra e no eixo vertical (y), a razão entre os ganhos do modelo e os ganhos de um modelo aleatório;</li>
							<li>Logo, Lift Curve é o gráfico entre a elevação no eixo y e o decil correspondente no eixo x. Ao observar o eixo y, torna-se evidente que o modelo performa melhor;</li>
						  </ul>

						  <p>A <b>precision at k</b>, é útil quando é crucial garantir que as classificações de maior destaque sejam altamente precisas. Envolve o cálculo da proporção de respostas corretas ("sim") até a posição k (top k) da lista.</p>

						  <p>O objetivo do <b>recall at k</b>, reside em garantir que o modelo seja capaz de identificar a maioria das observações positivas, mesmo que isso resulte em algumas observações falsamento positivas. Calcula-se a proporção de respostas corretas até a posição k (top k) da lista em relação ao número total de respostas corretas no conjunto de dados.</p>

						  <p>A métrica <b>ROC-AUC score</b>, calcula a área sob a curva ROC-AUC, a partir das pontuações de previsão. É uma ferramenta útil pois facilita a comparação entre modelos e contribui na escolha do limiar de classificação com base na necessidade específica do problema. Quanto maior o valor, melhor é o poder discriminatório do modelo.</p>

						  <p>Consta a seguir os resultados das análises obtidas, após a validação de cada modelo testado:</p>

						  <table border="1">
							<tr>
								<th>Precision_Top_K</th>
								<th>Recall_Top_K</th>
								<th>ROC</th>
								<th>Model Name</th>
							</tr>
							<tr>
								<td>0.28</td>
								<td>0.930</td>
								<td>0.854</td>
								<td>XGBClassifier</td>
							</tr>
							<tr>
								<td>0.28</td>
								<td>0.932</td>
								<td>0.856</td>
								<td>LGBMClassifier</td>
							</tr>
							<tr>
								<td>0.27</td>
								<td>0.900</td>
								<td>0.812</td>
								<td>LogisticRegression</td>
							</tr>
							<tr>
								<td>0.26</td>
								<td>0.876</td>
								<td>0.804</td>
								<td>KNeighborsClassifier</td>
							</tr>
							<tr>
								<td>0.25</td>
								<td>0.838</td>
								<td>0.768</td>
								<td>ExtraTreesClassifier</td>
							</tr>
						</table>

						<p>O algoritmo de árvore de decisão, LGBM, foi selecionado para avançar com o projeto. Após a otimização dos hiperparâmetros, o desempenho do modelo será avaliado considerando uma perspectiva de negócios.</p>
						
						<h2>5. Resultados de Negócio</h2>
						
						<p>As perguntas solicitadas anteriormente pelo gestor serão agora abordadas e respondidas, além das suposições iniciais formuladas na etapa de feature engineering, que após testadas, ajudaram a extrair insights importantes do conjunto de dados.</p>

						<h3>5.1. Quais são os principais insights acerca dos atributos mais significativos de clientes interessados em seguro automóvel?</h3>
						
						<p>Com base nos algoritmos de seleção de atributos, os considerados mais importantes são: <b><i>age, region_code, previously_insured, vehicle_age, vehicle_damage, annual_premium e policy_sales_channel.</i></b></p>
						
						<p>Ao analisar as hipóteses abaixo, percebe-se que todas elas seguem uma linha de raciocínio contrária ao que foi inicialmente considerado. Portanto, os principais insights são direcionados a clientes que não manifestam interesse pelo seguro. </p>

						<h4>H3: O canal mais utilizado é o canal com mais clientes interessados em comprar o seguro automóvel</h4>
						<p><b>Falsa</b> - O canal 152 é o mais usado, porém é por meio dele que os clientes mais rejeitam a oferta. Enquanto os canais 26 e 124, são os mais efetivos na prospecção.</p>
						<p><b>Insight de negócio:</b> É fundamental considerar que uma escolha específica de meio de comunicação com o cliente pode resultar em impacto negativo quando se trata de questionar sobre a aquisição de outro seguro. Portanto, é responsabilidade da empresa avaliar se as chamadas telefônicas representarão a única abordagem para oferecer o seguro, uma vez que essa abordagem pode não ser a preferida por todos.</p>

						<h4> H4: Os clientes mais interessados em comprar um seguro automóvel são os que têm mais dias associados </h4>
						<p><b>Falsa</b> - Para melhor análise, os dias foram transformados em trimestres, e com isso podemos notar que clientes com mais dias associados recusaram a oferta.</p>
						<p><b>Insight de negócio:</b> Implementar estratégias distintas para clientes que estão se aproximando da renovação de seus contratos de seguro saúde em comparação com os demais. Adicionalmente, obter informações sobre a satisfação do cliente com a seguradora.</p>

						<h4> H7: Os clientes mais interessados em contratar um seguro automóvel são o que possuem um modelo novo </h4>
						<p><b>Falsa</b> - Clientes cujos veículos têm um ano ou mais de uso demonstram maior interesse em adquirir o seguro.</p>
						<p><b>Insight de negócio:</b> Analisar se o valor anual definido para veículos mais recentes está excessivamente alto, pois o cliente pode decidir que o risco de ficar sem seguro é menor do que o custo do prêmio.</p>

						<img src="https://imgur.com/mCRaSKD.png" width="1200">
						<br>
						<br>

						<h3>5.2. Qual a porcentagem de clientes interessados em seguro automóvel que a equipe de vendas conseguirá atingir com 20 mil ligações?</h3>

						<p>Por lista ordenada (modelo), dos 381.109 clientes da Insurance All, cerca de 18% deles estão interessados pelo seguro automóvel. Logo, pode-se esperar que das 20.000 ligações, haverá 8.417 novos contratos, e uma receita estimada de ₹92.38M por ano.</p>

						<p>Já por lista aleatória, dos 381.109 clientes da Insurance All,  aproximadamente 5% deles demonstram interesse pelo seguro automotivo. Consequentemente, é razoável esperar que, a partir de 20.000 ligações, sejam estabelecidos 2.451 contratos, resultando em uma receita estimada de ₹26.9M por ano.</p>

						<p>O uso do modelo produzirá resultados 3.43 vezes melhores que a lista aleatória, representando um ganho adicional estimado de ₹65.48M para a empresa.</p>

						<img src="https://imgur.com/q5Y4GUo.png" width="1200">

						<br>
						<br>

						<h3>5.3. Se a capacidade da equipe de vendas for ampliada para 40 mil ligações, qual a porcentagem dos clientes interessados em adquirir um seguro automotivo a equipe será capaz de contatar?</h3>

						<p>Por lista ordenada (modelo), dos 381.109 clientes da Insurance All, cerca de 34% deles estão interessados pelo seguro automóvel. Portanto, pode-se esperar que das 40.000 ligações, serão firmados 15.648 novos contratos, resultando em uma receita estimada de ₹171.75M por ano.</p>

						<p>Por lista aleatória, dos 381.109 clientes da Insurance All, cerca de 10% demonstraram interesse pelo seguro automóvel. Logo, pode-se esperar que das 40.000 ligações, haverá 4.903 contratos, e uma receita estimada de ₹53.81M por ano.</p>

						<p>O uso do modelo produzirá resultados 3.19 vezes melhores que a lista aleatória, representando um ganho adicional estimado de ₹117.93M para a empresa.</p>
						
						<img src="https://imgur.com/sx4x0H2.png" width="1200">

						<br>
						<br>
						
						<h3>5.4. Quantas ligações a equipe de vendas precisará realizar para alcançar 80% dos clientes interessados em adquirir um seguro automóvel?</h3>
						
						<p>A equipe de vendas precisará realizar 117.200 ligações, resultando na celebração de 37.382 novos contratos e uma receita estimada de ₹410.3M por ano.</p>

						<p>O uso do modelo produzirá resultados 2.6 vezes melhores que a lista aleatória, representando um ganho adicional estimado de ₹252.64M para a empresa.</p>

						<img src="https://imgur.com/SSZzI2X.png" width="1200">

						<br>
						<br>

						<h2>6. Modelo em Produção e Acesso ao Algoritmo de Pontuação</h2>
						<p>A plataforma Render foi utilizada para implementar o modelo de ML, que atenderá às solicitações via API. Isso possibilita que toda a equipe de vendas acesse a solução por meio de um botão na barra de ferramentas do Google Sheets que foi criado pelo Apps Script. Quando esse botão é acionado, uma pontuação é gerada para cada registro de cliente existente na planilha ou para novos registros. Essa pontuação representa a probabilidade de os clientes adquirirem o seguro automóvel. </p>

						<div style="text-align: center;">
							<a href=https://imgur.com/IctQPEI" target="_blank">
							  <video controls width="400">
								<source src=https://imgur.com/IctQPEI.mp4" type="video/mp4">
							  </video>
							</a>
						  </div>
						  <br>
						  <br>

						<h2>7. Aprendizados</h2>

						<ul>
							<li>Ainda que a pontuação seja pequena, o modelo contribui para aprimorar o processo de prospecção de clientes;</li>
							<li>Para um conjunto de dados desbalanceado, deve-se compreender quais parâmetros têm o maior impacto na pontuação. Para alcançar isso, é necessário explorar diferentes combinações de parâmetros até encontrar a configuração ideal para o cenário específico;</li>
							<li>É necessário testar técnicas diferentes de atributos na fase de preparação dos dados, uma vez que isso não apenas influencia o desempenho dos modelos, mas também o resultado final. Isso é particularmente relevante neste projeto, especialmente na elaboração do mecanismo que atribui pontuações aos registros. No entanto, é importante observar que técnicas de transformação que introduzem novas colunas podem entrar em conflito com a estrutura da planilha já existente no Google Sheets, o que pode tornar o processo de correção bastante oneroso.</li>
						</ul>
						
						<h2>8. Próximos Passos</h2>

						<ul>
							<li>Para enriquecer o aprendizado dos modelos, buscar novos atributos. Esses atributos, ausentes no formulário de prospecção, têm o potencial de influenciar tanto o valor da apólice de seguro quanto a probabilidade de futuras contratações de seguros. Portanto, é de suma importância incorporá-los ao aprendizado do modelo e tê-los na análise exploratória, para consequentemente gerar novos insights para o negócio;</li>
							<li>Otimizar a interface do Google Sheets com outras funcionalidades, visando a aprimorar a experiência do usuário.</li>
						</ul>
						

						  

						
				</section>
			</div>
		</div>
					
				<!-- Footer -->
				<footer id="footer">
					<div class="inner">
						<section>
							<h2>Follow</h2>
							<ul class="icons">
								<li><a href="https://github.com/oliveiract/" class="icon brands style2 fa-github"><span class="label">GitHub</span></a></li>
								<li><a href="https://www.linkedin.com/in/oliveiract/" class="icon brands style2 fa-linkedin"><span class="label">LinkedIn</span></a></li>
							</ul>
						</section>
						<ul class="copyright">
							<li>&copy; Untitled. All rights reserved</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div>
				</footer>

		</div>

	<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>

</body>
</html>